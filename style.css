:root{
  --bg:#f7f7f5; --fg:#1f2937; --muted:#4b5563; --cta:#2563eb; --card:#fff; --success:#10b981; --danger:#ef4444;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.4 system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif}

.wrap{max-width:1100px;margin:0 auto;padding:20px}
.header{display:flex;align-items:center;gap:12px;margin:12px 0 20px}
.brandmark{width:36px;height:36px;border-radius:999px;background:linear-gradient(135deg,#10b98122,#2563eb22);display:grid;place-items:center;border:1px solid #e5e7eb}
.brand-title{font-weight:800;letter-spacing:0.2px}

.card{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,.05);padding:20px;transition:transform .18s ease}
.card:hover{transform:translateY(-2px)}

h1{font-size:22px;margin:0 0 8px}
h3{margin:0 0 12px}
p{color:var(--muted);margin:0 0 14px}
label{display:block;margin:8px 0 6px;font-weight:600}

input,button,.btn{font:inherit;border-radius:12px}
input{padding:12px 14px;border:1px solid #d1d5db;width:100%}
button{padding:10px 14px;border:none;background:var(--cta);color:#fff;font-weight:700;cursor:pointer}
button:disabled{opacity:.6;cursor:not-allowed}
.form-row{margin-top:12px;display:flex;gap:8px;align-items:center}
.form-row button{width:auto;flex:0 0 auto}

/* Layout grid */
.row{display:grid;grid-template-columns:1fr 340px;gap:24px}
.leftCol{min-width:0}
.rightCol{min-width:0}

/* Responsive breakpoints */
@media (max-width: 1000px){
  .row{grid-template-columns:1fr 300px}
}
@media (max-width: 820px){
  .row{grid-template-columns:1fr}
  aside.rightCol{order:2}
}
@media (max-width: 420px){
  .row{gap:12px}
  .card{padding:16px}
}

/* QR area */
.qr{display:flex;align-items:flex-start;gap:12px;flex-wrap:wrap}
#qrcode{border-radius:8px;padding:6px;background:#fff;border:1px dashed #e5e7eb;min-width:120px;min-height:120px;display:grid;place-items:center}
.qrMeta{min-width:160px;flex:1;}


/* Tasks */
.tasks{display:flex;flex-direction:column;gap:12px;margin-top:8px}
.task{display:grid;grid-template-columns:40px 1fr 120px;gap:12px;align-items:start;padding:12px;border-radius:12px;border:1px solid #eaeaea;background:#fff;min-height:72px;word-wrap:break-word}
.task > input[type=checkbox]{width:24px;height:24px;margin-top:6px; accent-color: var(--cta);}
.task .taskTitle{font-size:15px;color:var(--fg);margin-bottom:6px}
.task .meta{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.tags{display:flex;gap:6px;flex-wrap:wrap}
.pill{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid #e5e7eb;background:#fafafa;color:#374151;font-size:12px}
.votes{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
.votes .btn{padding:6px 10px;border-radius:10px}

/* Button Active States */
.btn.ghost.like.active {
    color: white !important;
    background: var(--cta) !important; 
    border-color: var(--cta) !important;
}
.btn.ghost.dislike.active {
    color: white !important; 
    background: var(--danger) !important; 
    border-color: var(--danger) !important;
}

@media (max-width:700px){
  .task{grid-template-columns:40px 1fr; grid-template-rows:auto auto; }
  .votes{grid-column:1/-1;flex-direction:row;justify-self:start}
  .task .taskTitle{margin-right:8px}
}

/* Progress */
.progressWrap{display:flex;gap:8px;align-items:center;margin-bottom:10px}
progress{width:100%;height:8px;border-radius:8px;overflow:hidden;appearance:none}
progress::-webkit-progress-bar{background:#e5e7eb}
progress::-webkit-progress-value{background:var(--cta)}
#progressPct{min-width:44px;text-align:right;font-size:12px;color:var(--muted)}

/* Misc */
.topbar{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px}
.tiny{font-size:12px;color:var(--muted)}
.pill{font-size:12px;padding:4px 8px}
.hide{display:none}

/* This is the modified rule for top-center toasts */
.toastWrap{
  position:fixed;
  top:18px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  pointer-events:none;
  z-index:9999;
}
.toast{
  background:var(--fg);
  color:white;
  padding:10px 18px;
  margin:4px 0;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
  font-size:14px;
  opacity:.95;
  transition:opacity .2s ease;
}
.toast.error{background:var(--danger)}
.toast.success{background:var(--success)}


/* --- Filter Bar Styles (New Dropdown/Combo-Box) --- */
.filterBar {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.filter-dropdown {
    position: relative;
    flex: 1 1 180px; 
    min-width: 140px;
    z-index: 10;
    user-select: none;
}

.dropdown-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    cursor: pointer;
    background-color: white;
    font-size: 14px;
    font-weight: 500;
    transition: all .15s ease;
}

.dropdown-header:hover {
    border-color: var(--cta);
}

.dropdown-header.active {
    border-color: var(--cta);
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
}

.dropdown-header .summary {
    font-weight: 700;
    margin-left: 8px;
    color: var(--cta);
}

.dropdown-header .icon {
    margin-left: 8px;
    transition: transform .15s ease;
}

.filter-dropdown.open .dropdown-header .icon {
    transform: rotate(180deg);
}

.dropdown-list {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    margin-top: 4px;
    background: white;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    box-shadow: 0 6px 20px rgba(0,0,0,.08);
    padding: 8px;
    max-height: 200px;
    overflow-y: auto;
    display: none; 
}
.dropdown-list.scroll-list {
    max-height: 250px;
}

.filter-dropdown.open .dropdown-list {
    display: block; 
}

/* Styles for checkboxes inside the list */
.filter-item {
    display: flex;
    align-items: center;
    padding: 6px 4px;
    cursor: pointer;
    font-size: 14px;
}
.filter-item:hover {
    background: #f3f4f6;
    border-radius: 4px;
}
.filter-item input[type="checkbox"] {
    width: 16px;
    height: 16px;
    margin-right: 8px;
    accent-color: var(--cta);
}


/* Styles for Pills (Re-introduced) */
.pill.points-pill {
    background: var(--success) !important;
    color: white !important;
    font-weight: 700;
}
/* REMOVED: .pill.level-pill */

/* NEW: Impact Pill (Based on Engagement Level) */
.pill.impact-pill {
    background: #ecfdf5; /* Light Mint Green */
    color: #047857; /* Dark Teal */
    font-weight: 700;
}
/* NEW: Confidence/Effort Pill (Based on Engagement Level) */
.pill.confidence-pill {
    background: #ede9fe; /* Light Lavender */
    color: #5b21b6; /* Deep Purple */
    font-weight: 700;
}

.pill.core-pill {
    background: var(--cta); 
    color: white; 
    font-weight: 700;
}
.pill.stage-pill {
    background: #e0f2fe; 
    color: #0c4a6e;
}
.pill.audience-pill {
    background: #ede9fe; 
    color: #4c1d95;
}
.pill.tag-pill{
  background:#f0f9ff;
  color:#075985;
}


/* small screen safety */
@media (max-width: 320px){
  .task{padding:10px}
  #qrcode{min-width:96px;min-height:96px}
}
/* Add this rule to the end of your style.css file */
.impact-line {
    font-size: 13px; /* Slightly smaller than task title */
    color: var(--muted); /* Use the muted color */
    margin-top: 5px; /* Add a little spacing below the pills */
    font-style: italic;
}
/* --- Custom Modal Pop-up Styles --- */

/* Backdrop: Covers the entire screen, centers content, and ensures it's on top */
.custom-modal-backdrop { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background: rgba(0, 0, 0, 0.6); 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    z-index: 10000; /* Extremely high z-index to guarantee visibility */
}

/* Modal Content: The actual pop-up box */
.custom-modal-content { 
    background: white; 
    padding: 25px; 
    border-radius: 12px; 
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); 
    max-width: 90%; 
    width: 300px; 
    text-align: center; 
    /* Simple animation for better visual feedback */
    animation: modal-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes modal-in {
    from { transform: scale(0.7); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.custom-modal-actions { 
    margin-top: 15px; 
}

/* Paragraph style inside the modal content */
.custom-modal-content p { 
    margin: 0 0 15px; 
    font-weight: 600; 
    font-size: 16px;
    color: var(--fg); /* Use foreground color */
}